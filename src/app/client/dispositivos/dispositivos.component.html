<h2>Mis Enchufes Inteligentes</h2>
<div *ngIf="dispositivos.length === 0">
  <p>No tienes dispositivos registrados.</p>
</div>
<div class="dispositivos-lista">
  <div class="dispositivo-card" *ngFor="let d of dispositivos">
    <h3>{{ d.nombre || d.sku }}</h3>
    <div>
      Estado:
      <span [ngClass]="{ 'on': d.estado === 'on', 'off': d.estado === 'off' }">
        {{ d.estado === 'on' ? 'Encendido' : 'Apagado' }}
      </span>
    </div>
    <button (click)="toggleEstado(d)" [disabled]="loadingId === d.id">
      {{ d.estado === 'on' ? 'Apagar' : 'Encender' }}
    </button>
  </div>
</div>
<div *ngIf="mensaje" class="alert">{{ mensaje }}</div>
